<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>버튼을 누르면? 소리가 나요!</title>
  <link rel="stylesheet" href="./CSS/style.css">
</head>
<body>
  <div id="root">
    <div id="board">
      <div class="white">도</div>
      <div class="black">도#</div>
      <div class="white">레</div>
      <div class="black">레#</div>
      <div class="white">미</div>
      <div class="white">파</div>
      <div class="black">파#</div>
      <div class="white">솔</div>
      <div class="black">솔#</div>
      <div class="white">라</div>
      <div class="black">시♭</div>
      <div class="white">시</div>
    </div>
  </div>
  <script>
    const audioCtx = new AudioContext;

    audioCtx.currentTime = 1;

    
    const whiteT = document.getElementsByClassName('white');
    
    whiteT[0].addEventListener('mousedown', function(){addOsc(523.25)});
    whiteT[1].addEventListener('mousedown', function(){addOsc(587.33)});
    whiteT[2].addEventListener('mousedown', function(){addOsc(659.26)});    
    whiteT[3].addEventListener('mousedown', function(){addOsc(698.46)});
    whiteT[4].addEventListener('mousedown', function(){addOsc(783.99)});
    whiteT[5].addEventListener('mousedown', function(){addOsc(880.00)});
    whiteT[6].addEventListener('mousedown', function(){addOsc(987.77)});
    
    function addOsc(hertz) {
      let osc = audioCtx.createOscillator();
      osc.type = "square";
      osc.frequency.setValueAtTime(hertz, audioCtx.currentTime); 
      osc.connect(audioCtx.destination);
      osc.start();
      setTimeout(()=>{
        osc.stop();
      },500);
    }




  </script>
  <script src="./script/script.js"></script>
</body>
</html>